# æŠ½å¥–ç»“æœè®°å½•

**æŠ½å¥–æ—¶é—´**: 2025-09-18T03:57:23.779Z

**éšæœºç§å­**: 2pCHe8Rwba8JvGgcucjaXF7E5Wa8N6UhEQpZnGS3Far3kmjztuo1Ha3XQx739S4uNRVzr4cKGMq6gbxY3WDL6kUk

**æŠ½å–äººæ•°**: 100

## å¸–å­ä¿¡æ¯

**æ ‡é¢˜**: å…³äºæˆ‘ä¹°å’Œå– v å¸çš„è¯´æ˜

**ID**: 1160134

**é“¾æ¥**: [https://www.v2ex.com/t/1160134](https://www.v2ex.com/t/1160134)

**å›å¤æ•°**: 100

**åˆ›å»ºæ—¶é—´**: 2025-09-18T03:57:24.532Z


## å‚ä¸ç»Ÿè®¡

**æ€»å‚ä¸äººæ•°**: 85

**æ’é™¤äººæ•°**: 1

**å®é™…å‚ä¸äººæ•°**: 84

**æ’é™¤çš„ç”¨æˆ·**: PilgrimSun

## ğŸ‰ ä¸­å¥–ç”¨æˆ·

1. **onnfee** ()

2. **JoeJoeJoe** ()

3. **joshuacavell** ()

4. **marukoli** ()

5. **yurong3333333333** ()

6. **number** ()

7. **nuansediao** ()

8. **jiandao7114** ()

9. **iyour** ()

10. **bloks** ()

11. **yorks** ()

12. **renfei** ()

13. **saving** ()

14. **luozhsky** ()

15. **jkeylu** ()

16. **urlpha** ()

17. **MyBules** ()

18. **duuu** ()

19. **tengdax** ()

20. **joinmouse** ()

21. **cmdOptionKana** ()

22. **holden** ()

23. **kirikiri** ()

24. **nightlight9** ()

25. **niboy** ()

26. **wuxidixi** ()

27. **EvenFool** ()

28. **elspeth** ()

29. **acoo** ()

30. **Mogugugugu** ()

31. **WolverineL** ()

32. **tuutoo** ()

33. **liuhmchn** ()

34. **zzdcool** ()

35. **Mammon** ()

36. **mythjava** ()

37. **heavymetals** ()

38. **vla** ()

39. **ccdjh** ()

40. **SuperManNoPain** ()

41. **OaO** ()

42. **GuessWhoAmI** ()

43. **weixind** ()

44. **iflyapi** ()

45. **lyrics1510** ()

46. **lneoi** ()

47. **pyyalt** ()

48. **Necfol** ()

49. **largek** ()

50. **jtam** ()

51. **AlecJi** ()

52. **Gavin999** ()

53. **isSimon** ()

54. **chainzhao188** ()

55. **arihca** ()

56. **dsv** ()

57. **hhacker** ()

58. **jesse2wei** ()

59. **crocoBaby** ()

60. **yaodd** ()

61. **kamikaze472** ()

62. **howie110** ()

63. **LitterL** ()

64. **dust0522** ()

65. **jiangyin** ()

66. **wangstar** ()

67. **L5411** ()

68. **maxwellz** ()

69. **zenfsharp** ()

70. **xoinstein** ()

71. **channg** ()

72. **minmini** ()

73. **morutong** ()

74. **24** ()

75. **glacer** ()

76. **shanch** ()

77. **boringwheat** ()

78. **Livid** ()

79. **stevenself** ()

80. **kiroli** ()

81. **yyll** ()

82. **wukongkong** ()

83. **Huramkin** ()

84. **AntonChekhov** ()


## å‚ä¸ç”¨æˆ·åˆ—è¡¨

1. onnfee () - **ğŸ‰ä¸­å¥–**
2. JoeJoeJoe () - **ğŸ‰ä¸­å¥–**
3. PilgrimSun () - ~~æ’é™¤~~
4. joshuacavell () - **ğŸ‰ä¸­å¥–**
5. marukoli () - **ğŸ‰ä¸­å¥–**
6. yurong3333333333 () - **ğŸ‰ä¸­å¥–**
7. number () - **ğŸ‰ä¸­å¥–**
8. nuansediao () - **ğŸ‰ä¸­å¥–**
9. jiandao7114 () - **ğŸ‰ä¸­å¥–**
10. iyour () - **ğŸ‰ä¸­å¥–**
11. bloks () - **ğŸ‰ä¸­å¥–**
12. yorks () - **ğŸ‰ä¸­å¥–**
13. renfei () - **ğŸ‰ä¸­å¥–**
14. saving () - **ğŸ‰ä¸­å¥–**
15. luozhsky () - **ğŸ‰ä¸­å¥–**
16. jkeylu () - **ğŸ‰ä¸­å¥–**
17. urlpha () - **ğŸ‰ä¸­å¥–**
18. MyBules () - **ğŸ‰ä¸­å¥–**
19. duuu () - **ğŸ‰ä¸­å¥–**
20. tengdax () - **ğŸ‰ä¸­å¥–**
21. joinmouse () - **ğŸ‰ä¸­å¥–**
22. cmdOptionKana () - **ğŸ‰ä¸­å¥–**
23. holden () - **ğŸ‰ä¸­å¥–**
24. kirikiri () - **ğŸ‰ä¸­å¥–**
25. nightlight9 () - **ğŸ‰ä¸­å¥–**
26. niboy () - **ğŸ‰ä¸­å¥–**
27. wuxidixi () - **ğŸ‰ä¸­å¥–**
28. EvenFool () - **ğŸ‰ä¸­å¥–**
29. elspeth () - **ğŸ‰ä¸­å¥–**
30. acoo () - **ğŸ‰ä¸­å¥–**
31. Mogugugugu () - **ğŸ‰ä¸­å¥–**
32. WolverineL () - **ğŸ‰ä¸­å¥–**
33. tuutoo () - **ğŸ‰ä¸­å¥–**
34. liuhmchn () - **ğŸ‰ä¸­å¥–**
35. zzdcool () - **ğŸ‰ä¸­å¥–**
36. Mammon () - **ğŸ‰ä¸­å¥–**
37. mythjava () - **ğŸ‰ä¸­å¥–**
38. heavymetals () - **ğŸ‰ä¸­å¥–**
39. vla () - **ğŸ‰ä¸­å¥–**
40. ccdjh () - **ğŸ‰ä¸­å¥–**
41. SuperManNoPain () - **ğŸ‰ä¸­å¥–**
42. OaO () - **ğŸ‰ä¸­å¥–**
43. GuessWhoAmI () - **ğŸ‰ä¸­å¥–**
44. weixind () - **ğŸ‰ä¸­å¥–**
45. iflyapi () - **ğŸ‰ä¸­å¥–**
46. lyrics1510 () - **ğŸ‰ä¸­å¥–**
47. lneoi () - **ğŸ‰ä¸­å¥–**
48. pyyalt () - **ğŸ‰ä¸­å¥–**
49. Necfol () - **ğŸ‰ä¸­å¥–**
50. largek () - **ğŸ‰ä¸­å¥–**
51. jtam () - **ğŸ‰ä¸­å¥–**
52. AlecJi () - **ğŸ‰ä¸­å¥–**
53. Gavin999 () - **ğŸ‰ä¸­å¥–**
54. isSimon () - **ğŸ‰ä¸­å¥–**
55. chainzhao188 () - **ğŸ‰ä¸­å¥–**
56. arihca () - **ğŸ‰ä¸­å¥–**
57. dsv () - **ğŸ‰ä¸­å¥–**
58. hhacker () - **ğŸ‰ä¸­å¥–**
59. jesse2wei () - **ğŸ‰ä¸­å¥–**
60. crocoBaby () - **ğŸ‰ä¸­å¥–**
61. yaodd () - **ğŸ‰ä¸­å¥–**
62. kamikaze472 () - **ğŸ‰ä¸­å¥–**
63. howie110 () - **ğŸ‰ä¸­å¥–**
64. LitterL () - **ğŸ‰ä¸­å¥–**
65. dust0522 () - **ğŸ‰ä¸­å¥–**
66. jiangyin () - **ğŸ‰ä¸­å¥–**
67. wangstar () - **ğŸ‰ä¸­å¥–**
68. L5411 () - **ğŸ‰ä¸­å¥–**
69. maxwellz () - **ğŸ‰ä¸­å¥–**
70. zenfsharp () - **ğŸ‰ä¸­å¥–**
71. xoinstein () - **ğŸ‰ä¸­å¥–**
72. channg () - **ğŸ‰ä¸­å¥–**
73. minmini () - **ğŸ‰ä¸­å¥–**
74. morutong () - **ğŸ‰ä¸­å¥–**
75. 24 () - **ğŸ‰ä¸­å¥–**
76. glacer () - **ğŸ‰ä¸­å¥–**
77. shanch () - **ğŸ‰ä¸­å¥–**
78. boringwheat () - **ğŸ‰ä¸­å¥–**
79. Livid () - **ğŸ‰ä¸­å¥–**
80. stevenself () - **ğŸ‰ä¸­å¥–**
81. kiroli () - **ğŸ‰ä¸­å¥–**
82. yyll () - **ğŸ‰ä¸­å¥–**
83. wukongkong () - **ğŸ‰ä¸­å¥–**
84. Huramkin () - **ğŸ‰ä¸­å¥–**
85. AntonChekhov () - **ğŸ‰ä¸­å¥–**

---
*æ­¤è®°å½•ç”± v2ex-lottery ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ*

## ğŸ” éªŒè¯å…¬å¼

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å…¬å¼éªŒè¯æŠ½å¥–ç»“æœçš„çœŸå®æ€§ï¼š

```javascript
// éªŒè¯æŠ½å¥–ç»“æœ - ä½¿ç”¨ä¸ç³»ç»Ÿå®Œå…¨ç›¸åŒçš„ç®—æ³•
function verifyLotteryResult(users, excludeUsers, drawCount, seed) {
  // å°†txå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—seedï¼ˆä¸ç³»ç»Ÿé€»è¾‘å®Œå…¨ä¸€è‡´ï¼‰
  function txToSeed(tx) {
    if (!tx || typeof tx !== 'string') {
      throw new Error('æ— æ•ˆçš„txå‚æ•°');
    }
    
    // ä½¿ç”¨ä¸ç³»ç»Ÿç›¸åŒçš„å“ˆå¸Œç®—æ³•
    let hash = 0;
    for (let i = 0; i < tx.length; i++) {
      const char = tx.charCodeAt(i);
      hash = ((hash << 5) - hash) + char;
      hash = hash & hash; // è½¬æ¢ä¸º32ä½æ•´æ•°
    }
    
    // ç¡®ä¿è¿”å›æ­£æ•°
    return Math.abs(hash);
  }

  // ä½¿ç”¨ä¸ç³»ç»Ÿå®Œå…¨ç›¸åŒçš„éšæœºæ•°ç”Ÿæˆå™¨
  function seededRandom(seed) {
    let currentSeed = seed;
    return function() {
      currentSeed = (currentSeed * 9301 + 49297) % 233280;
      return currentSeed / 233280;
    };
  }

  // Fisher-Yates æ´—ç‰Œç®—æ³•ï¼ˆä¸ç³»ç»Ÿå®Œå…¨ä¸€è‡´ï¼‰
  function seededShuffle(array, seed) {
    const shuffled = [...array];
    const random = seededRandom(seed);

    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor(random() * (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
  }

  // è¿‡æ»¤æ’é™¤ç”¨æˆ·ï¼ˆä¸ç³»ç»Ÿé€»è¾‘å®Œå…¨ä¸€è‡´ï¼‰
  const availableUsers = users.filter(user => !excludeUsers.includes(user.username));
  
  if (availableUsers.length === 0) {
    return [];
  }
  
  if (drawCount >= availableUsers.length) {
    return availableUsers;
  }
  
  // ä½¿ç”¨è½¬æ¢åçš„æ•°å­—seedè¿›è¡Œæ´—ç‰Œ
  const numericSeed = txToSeed(seed);
  const shuffledUsers = seededShuffle(availableUsers, numericSeed);
  return shuffledUsers.slice(0, drawCount);
}

// å½“å‰æŠ½å¥–çš„çœŸå®æ•°æ®
const users = [
  { username: "onnfee", publickey: "" },
  { username: "JoeJoeJoe", publickey: "" },
  { username: "PilgrimSun", publickey: "" },
  { username: "joshuacavell", publickey: "" },
  { username: "marukoli", publickey: "" },
  { username: "yurong3333333333", publickey: "" },
  { username: "number", publickey: "" },
  { username: "nuansediao", publickey: "" },
  { username: "jiandao7114", publickey: "" },
  { username: "iyour", publickey: "" },
  { username: "bloks", publickey: "" },
  { username: "yorks", publickey: "" },
  { username: "renfei", publickey: "" },
  { username: "saving", publickey: "" },
  { username: "luozhsky", publickey: "" },
  { username: "jkeylu", publickey: "" },
  { username: "urlpha", publickey: "" },
  { username: "MyBules", publickey: "" },
  { username: "duuu", publickey: "" },
  { username: "tengdax", publickey: "" },
  { username: "joinmouse", publickey: "" },
  { username: "cmdOptionKana", publickey: "" },
  { username: "holden", publickey: "" },
  { username: "kirikiri", publickey: "" },
  { username: "nightlight9", publickey: "" },
  { username: "niboy", publickey: "" },
  { username: "wuxidixi", publickey: "" },
  { username: "EvenFool", publickey: "" },
  { username: "elspeth", publickey: "" },
  { username: "acoo", publickey: "" },
  { username: "Mogugugugu", publickey: "" },
  { username: "WolverineL", publickey: "" },
  { username: "tuutoo", publickey: "" },
  { username: "liuhmchn", publickey: "" },
  { username: "zzdcool", publickey: "" },
  { username: "Mammon", publickey: "" },
  { username: "mythjava", publickey: "" },
  { username: "heavymetals", publickey: "" },
  { username: "vla", publickey: "" },
  { username: "ccdjh", publickey: "" },
  { username: "SuperManNoPain", publickey: "" },
  { username: "OaO", publickey: "" },
  { username: "GuessWhoAmI", publickey: "" },
  { username: "weixind", publickey: "" },
  { username: "iflyapi", publickey: "" },
  { username: "lyrics1510", publickey: "" },
  { username: "lneoi", publickey: "" },
  { username: "pyyalt", publickey: "" },
  { username: "Necfol", publickey: "" },
  { username: "largek", publickey: "" },
  { username: "jtam", publickey: "" },
  { username: "AlecJi", publickey: "" },
  { username: "Gavin999", publickey: "" },
  { username: "isSimon", publickey: "" },
  { username: "chainzhao188", publickey: "" },
  { username: "arihca", publickey: "" },
  { username: "dsv", publickey: "" },
  { username: "hhacker", publickey: "" },
  { username: "jesse2wei", publickey: "" },
  { username: "crocoBaby", publickey: "" },
  { username: "yaodd", publickey: "" },
  { username: "kamikaze472", publickey: "" },
  { username: "howie110", publickey: "" },
  { username: "LitterL", publickey: "" },
  { username: "dust0522", publickey: "" },
  { username: "jiangyin", publickey: "" },
  { username: "wangstar", publickey: "" },
  { username: "L5411", publickey: "" },
  { username: "maxwellz", publickey: "" },
  { username: "zenfsharp", publickey: "" },
  { username: "xoinstein", publickey: "" },
  { username: "channg", publickey: "" },
  { username: "minmini", publickey: "" },
  { username: "morutong", publickey: "" },
  { username: "24", publickey: "" },
  { username: "glacer", publickey: "" },
  { username: "shanch", publickey: "" },
  { username: "boringwheat", publickey: "" },
  { username: "Livid", publickey: "" },
  { username: "stevenself", publickey: "" },
  { username: "kiroli", publickey: "" },
  { username: "yyll", publickey: "" },
  { username: "wukongkong", publickey: "" },
  { username: "Huramkin", publickey: "" },
  { username: "AntonChekhov", publickey: "" }
];

const excludeUsers = [
  "PilgrimSun"
];

const drawCount = 100;
const seed = "2pCHe8Rwba8JvGgcucjaXF7E5Wa8N6UhEQpZnGS3Far3kmjztuo1Ha3XQx739S4uNRVzr4cKGMq6gbxY3WDL6kUk"; // åŸå§‹txå­—ç¬¦ä¸²

// æ‰§è¡ŒéªŒè¯
console.log('ğŸ” å¼€å§‹éªŒè¯æŠ½å¥–ç»“æœ...');
console.log('ğŸ“‹ å‚ä¸ç”¨æˆ·:', users.length, 'äºº');
console.log('âŒ æ’é™¤ç”¨æˆ·:', excludeUsers.length, 'äºº');
console.log('ğŸ¯ æŠ½å–äººæ•°:', drawCount, 'äºº');
console.log('ğŸŒ± ç§å­å€¼:', seed);

const winners = verifyLotteryResult(users, excludeUsers, drawCount, seed);
console.log('ğŸ‰ éªŒè¯ç»“æœ:', winners);
console.log('ğŸ† ä¸­å¥–ç”¨æˆ·å:', winners.map(w => w.username));
console.log('âœ… éªŒè¯å®Œæˆï¼');
```

**éªŒè¯è¯´æ˜**:
1. ä½¿ç”¨ç›¸åŒçš„ç§å­å€¼ï¼ˆ2pCHe8Rwba8JvGgcucjaXF7E5Wa8N6UhEQpZnGS3Far3kmjztuo1Ha3XQx739S4uNRVzr4cKGMq6gbxY3WDL6kUkï¼‰
2. åº”ç”¨ä¸ç³»ç»Ÿå®Œå…¨ç›¸åŒçš„æ´—ç‰Œç®—æ³•
3. ä½¿ç”¨ç›¸åŒçš„éšæœºæ•°ç”Ÿæˆå™¨é…ç½®ï¼ˆä¹˜æ•°: 9301, å¢é‡: 49297, æ¨¡æ•°: 233280ï¼‰
4. æ’é™¤ç›¸åŒçš„ç”¨æˆ·åˆ—è¡¨
5. æŠ½å–ç›¸åŒæ•°é‡çš„ä¸­å¥–è€…
6. ç»“æœåº”è¯¥ä¸ç³»ç»Ÿå®Œå…¨ä¸€è‡´

**åœ¨çº¿éªŒè¯**: æ‚¨å¯ä»¥å°†ä¸Šè¿°ä»£ç å¤åˆ¶åˆ°æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·æ§åˆ¶å°ä¸­æ‰§è¡Œï¼ŒéªŒè¯ç»“æœæ˜¯å¦ä¸è®°å½•ä¸€è‡´ã€‚
