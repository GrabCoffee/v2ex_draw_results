# æŠ½å¥–ç»“æœè®°å½•

**æŠ½å¥–æ—¶é—´**: 2025-08-26T10:50:29.698Z

**éšæœºç§å­**: 5kcnqrmP4ShoT4ehFy1RV4roRMET3zbqRnoykaqxWCDYzJAKoQSeS8e2JMBorGdhWmTVQ8pvmu2kWXeUrKmTs3yf

**æŠ½å–äººæ•°**: 24

## å¸–å­ä¿¡æ¯

**æ ‡é¢˜**: [$v2ex æ‰¹é‡ç©ºæŠ•æœ€åä¸€æ¬¡æµ‹è¯•] é’±åŒ…è¿˜å‰© 400 çš„é›¶å¤´, è¿™ä¸ªå¸–å­å‘å¸ƒä¹‹ååŠå°æ—¶å¼€å§‹å‘æ”¾

**ID**: 1155095

**é“¾æ¥**: [https://v2ex.com/t/1155095#reply47](https://v2ex.com/t/1155095#reply47)

**å›å¤æ•°**: 48

**åˆ›å»ºæ—¶é—´**: 2025-08-26T10:50:29.213Z


## å‚ä¸ç»Ÿè®¡

**æ€»å‚ä¸äººæ•°**: 48

**æ’é™¤äººæ•°**: 1

**å®é™…å‚ä¸äººæ•°**: 47

**æ’é™¤çš„ç”¨æˆ·**: JoeJoeJoe

## ğŸ‰ ä¸­å¥–ç”¨æˆ·

1. **LyntNy4n** (HxscxdfW3bxTvi8zXPhaBwi6y5WBB3cFJE3ccH8bsH3t)

2. **allotory** ()

3. **sadfasdfa** ()

4. **Yorkzhu** ()

5. **among** ()

6. **westfall** (CofX6rJf9Fec7sjavTQmrHrE5dqD86Ph1qhEM4pKJ2V6)

7. **needpp** ()

8. **mdjhny** (2sT8e8WVGvgqkbDcS6ZeT25V2uuEBac5UUAP5RMpkvDd)

9. **yifanes** ()

10. **fff113** (Cmr4mpvWtTUMFg687Kig3zNNockoDdaKcgUTdorobyg3)

11. **Sunyin** ()

12. **brblm** (Dbyej9SW4Fodck9kKaHCNT6LNV5RQQDP82PufF1Ytz8D)

13. **heirenhua** (71Kwu2KRjFEuRpPbkgnNBQ3cTyTseuRUPg5tuTLyjhRg)

14. **among** ()

15. **Tachyonc** ()

16. **llka** ()

17. **holden** ()

18. **carson8899** ()

19. **leeside** ()

20. **zyc2011** ()

21. **hidemyself** (9raUVuzeWUk53co63M4WXLWPWE4Xc6Lpn7RS9dnkpump)

22. **Hooope** ()

23. **itiao** (9raUVuzeWUk53co63M4WXLWPWE4Xc6Lpn7RS9dnkpump)

24. **chenchenze** ()


## å‚ä¸ç”¨æˆ·åˆ—è¡¨

1. wleven () - å‚ä¸
2. westfall (CofX6rJf9Fec7sjavTQmrHrE5dqD86Ph1qhEM4pKJ2V6) - **ğŸ‰ä¸­å¥–**
3. hidemyself (9raUVuzeWUk53co63M4WXLWPWE4Xc6Lpn7RS9dnkpump) - **ğŸ‰ä¸­å¥–**
4. mcluyu () - å‚ä¸
5. among () - **ğŸ‰ä¸­å¥–**
6. among () - **ğŸ‰ä¸­å¥–**
7. fff113 (Cmr4mpvWtTUMFg687Kig3zNNockoDdaKcgUTdorobyg3) - **ğŸ‰ä¸­å¥–**
8. holden () - **ğŸ‰ä¸­å¥–**
9. ll5270 (8Fq1bL7Xv3mHxKKbWEAakLdynaid6tpfbkWn7DerWJir) - å‚ä¸
10. tangyujing99 (EYvFF8skXcqVzfZKHf1bfxTdvBoyNUafG4vKfExNR1P6) - å‚ä¸
11. LinkinLaw () - å‚ä¸
12. leeside () - **ğŸ‰ä¸­å¥–**
13. Hooope () - **ğŸ‰ä¸­å¥–**
14. zjw7sky (HD7vcpyr2XKowuxPnUc6KjPh3jDm7AsoYXhZdjGkgwz5) - å‚ä¸
15. heirenhua (71Kwu2KRjFEuRpPbkgnNBQ3cTyTseuRUPg5tuTLyjhRg) - **ğŸ‰ä¸­å¥–**
16. yandif (DgwSePGtnqCEMMkhPKDzue4LuZ3zKJrpurggATP5JmZH) - å‚ä¸
17. LyntNy4n (HxscxdfW3bxTvi8zXPhaBwi6y5WBB3cFJE3ccH8bsH3t) - **ğŸ‰ä¸­å¥–**
18. allotory () - **ğŸ‰ä¸­å¥–**
19. hellodigua () - å‚ä¸
20. llka () - **ğŸ‰ä¸­å¥–**
21. KING754 () - å‚ä¸
22. bomb77 () - å‚ä¸
23. Yorkzhu () - **ğŸ‰ä¸­å¥–**
24. needpp () - **ğŸ‰ä¸­å¥–**
25. Tachyonc () - **ğŸ‰ä¸­å¥–**
26. chenchenze () - **ğŸ‰ä¸­å¥–**
27. nuansediao () - å‚ä¸
28. AntonChekhov () - å‚ä¸
29. va9215 (5RMpj5aUkcNzfPfsjvQD7WGrpQkCLGtgwAD9nwFCPsEs) - å‚ä¸
30. EvenFool () - å‚ä¸
31. SpikeEL (4rfgkLXj6SxQBk3CyzrYLLULK7zowJKkVGf6j6EehhQX) - å‚ä¸
32. chenliangngng () - å‚ä¸
33. carson8899 () - **ğŸ‰ä¸­å¥–**
34. zyc2011 () - **ğŸ‰ä¸­å¥–**
35. Sh15 () - å‚ä¸
36. yifanes () - **ğŸ‰ä¸­å¥–**
37. regexL () - å‚ä¸
38. Rollup (D45hw792Hm1Fo8S4mXqeT44KCJKzkRdbEXWBJdLpYAYC) - å‚ä¸
39. brblm (Dbyej9SW4Fodck9kKaHCNT6LNV5RQQDP82PufF1Ytz8D) - **ğŸ‰ä¸­å¥–**
40. nkidgm () - å‚ä¸
41. iflyapi () - å‚ä¸
42. itiao (9raUVuzeWUk53co63M4WXLWPWE4Xc6Lpn7RS9dnkpump) - **ğŸ‰ä¸­å¥–**
43. mdjhny (2sT8e8WVGvgqkbDcS6ZeT25V2uuEBac5UUAP5RMpkvDd) - **ğŸ‰ä¸­å¥–**
44. root71370 () - å‚ä¸
45. ccc008 (SiLt3fYhatQmPfruo4RJZ6W6KQ2UH51tAyFHD6GmDNZ) - å‚ä¸
46. sadfasdfa () - **ğŸ‰ä¸­å¥–**
47. Sunyin () - **ğŸ‰ä¸­å¥–**
48. EVAb00 (7oUHLPYdZZmkGWEQhAdtoHaVVHp85HiGNBTRZTYoF135) - å‚ä¸

---
*æ­¤è®°å½•ç”± v2ex-lottery ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ*

## ğŸ” éªŒè¯å…¬å¼

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å…¬å¼éªŒè¯æŠ½å¥–ç»“æœçš„çœŸå®æ€§ï¼š

```javascript
// éªŒè¯æŠ½å¥–ç»“æœ - ä½¿ç”¨ä¸ç³»ç»Ÿå®Œå…¨ç›¸åŒçš„ç®—æ³•
function verifyLotteryResult(users, excludeUsers, drawCount, seed) {
  // å°†txå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—seedï¼ˆä¸ç³»ç»Ÿé€»è¾‘å®Œå…¨ä¸€è‡´ï¼‰
  function txToSeed(tx) {
    if (!tx || typeof tx !== 'string') {
      throw new Error('æ— æ•ˆçš„txå‚æ•°');
    }
    
    // ä½¿ç”¨ä¸ç³»ç»Ÿç›¸åŒçš„å“ˆå¸Œç®—æ³•
    let hash = 0;
    for (let i = 0; i < tx.length; i++) {
      const char = tx.charCodeAt(i);
      hash = ((hash << 5) - hash) + char;
      hash = hash & hash; // è½¬æ¢ä¸º32ä½æ•´æ•°
    }
    
    // ç¡®ä¿è¿”å›æ­£æ•°
    return Math.abs(hash);
  }

  // ä½¿ç”¨ä¸ç³»ç»Ÿå®Œå…¨ç›¸åŒçš„éšæœºæ•°ç”Ÿæˆå™¨
  function seededRandom(seed) {
    let currentSeed = seed;
    return function() {
      currentSeed = (currentSeed * 9301 + 49297) % 233280;
      return currentSeed / 233280;
    };
  }

  // Fisher-Yates æ´—ç‰Œç®—æ³•ï¼ˆä¸ç³»ç»Ÿå®Œå…¨ä¸€è‡´ï¼‰
  function seededShuffle(array, seed) {
    const shuffled = [...array];
    const random = seededRandom(seed);

    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor(random() * (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
  }

  // è¿‡æ»¤æ’é™¤ç”¨æˆ·ï¼ˆä¸ç³»ç»Ÿé€»è¾‘å®Œå…¨ä¸€è‡´ï¼‰
  const availableUsers = users.filter(user => !excludeUsers.includes(user.username));
  
  if (availableUsers.length === 0) {
    return [];
  }
  
  if (drawCount >= availableUsers.length) {
    return availableUsers;
  }
  
  // ä½¿ç”¨è½¬æ¢åçš„æ•°å­—seedè¿›è¡Œæ´—ç‰Œ
  const numericSeed = txToSeed(seed);
  const shuffledUsers = seededShuffle(availableUsers, numericSeed);
  return shuffledUsers.slice(0, drawCount);
}

// å½“å‰æŠ½å¥–çš„çœŸå®æ•°æ®
const users = [
  { username: "wleven", publickey: "" },
  { username: "westfall", publickey: "CofX6rJf9Fec7sjavTQmrHrE5dqD86Ph1qhEM4pKJ2V6" },
  { username: "hidemyself", publickey: "9raUVuzeWUk53co63M4WXLWPWE4Xc6Lpn7RS9dnkpump" },
  { username: "mcluyu", publickey: "" },
  { username: "among", publickey: "" },
  { username: "among", publickey: "" },
  { username: "fff113", publickey: "Cmr4mpvWtTUMFg687Kig3zNNockoDdaKcgUTdorobyg3" },
  { username: "holden", publickey: "" },
  { username: "ll5270", publickey: "8Fq1bL7Xv3mHxKKbWEAakLdynaid6tpfbkWn7DerWJir" },
  { username: "tangyujing99", publickey: "EYvFF8skXcqVzfZKHf1bfxTdvBoyNUafG4vKfExNR1P6" },
  { username: "LinkinLaw", publickey: "" },
  { username: "leeside", publickey: "" },
  { username: "Hooope", publickey: "" },
  { username: "zjw7sky", publickey: "HD7vcpyr2XKowuxPnUc6KjPh3jDm7AsoYXhZdjGkgwz5" },
  { username: "heirenhua", publickey: "71Kwu2KRjFEuRpPbkgnNBQ3cTyTseuRUPg5tuTLyjhRg" },
  { username: "yandif", publickey: "DgwSePGtnqCEMMkhPKDzue4LuZ3zKJrpurggATP5JmZH" },
  { username: "LyntNy4n", publickey: "HxscxdfW3bxTvi8zXPhaBwi6y5WBB3cFJE3ccH8bsH3t" },
  { username: "allotory", publickey: "" },
  { username: "hellodigua", publickey: "" },
  { username: "llka", publickey: "" },
  { username: "KING754", publickey: "" },
  { username: "bomb77", publickey: "" },
  { username: "Yorkzhu", publickey: "" },
  { username: "needpp", publickey: "" },
  { username: "Tachyonc", publickey: "" },
  { username: "chenchenze", publickey: "" },
  { username: "nuansediao", publickey: "" },
  { username: "AntonChekhov", publickey: "" },
  { username: "va9215", publickey: "5RMpj5aUkcNzfPfsjvQD7WGrpQkCLGtgwAD9nwFCPsEs" },
  { username: "EvenFool", publickey: "" },
  { username: "SpikeEL", publickey: "4rfgkLXj6SxQBk3CyzrYLLULK7zowJKkVGf6j6EehhQX" },
  { username: "chenliangngng", publickey: "" },
  { username: "carson8899", publickey: "" },
  { username: "zyc2011", publickey: "" },
  { username: "Sh15", publickey: "" },
  { username: "yifanes", publickey: "" },
  { username: "regexL", publickey: "" },
  { username: "Rollup", publickey: "D45hw792Hm1Fo8S4mXqeT44KCJKzkRdbEXWBJdLpYAYC" },
  { username: "brblm", publickey: "Dbyej9SW4Fodck9kKaHCNT6LNV5RQQDP82PufF1Ytz8D" },
  { username: "nkidgm", publickey: "" },
  { username: "iflyapi", publickey: "" },
  { username: "itiao", publickey: "9raUVuzeWUk53co63M4WXLWPWE4Xc6Lpn7RS9dnkpump" },
  { username: "mdjhny", publickey: "2sT8e8WVGvgqkbDcS6ZeT25V2uuEBac5UUAP5RMpkvDd" },
  { username: "root71370", publickey: "" },
  { username: "ccc008", publickey: "SiLt3fYhatQmPfruo4RJZ6W6KQ2UH51tAyFHD6GmDNZ" },
  { username: "sadfasdfa", publickey: "" },
  { username: "Sunyin", publickey: "" },
  { username: "EVAb00", publickey: "7oUHLPYdZZmkGWEQhAdtoHaVVHp85HiGNBTRZTYoF135" }
];

const excludeUsers = [
  "JoeJoeJoe"
];

const drawCount = 24;
const seed = "5kcnqrmP4ShoT4ehFy1RV4roRMET3zbqRnoykaqxWCDYzJAKoQSeS8e2JMBorGdhWmTVQ8pvmu2kWXeUrKmTs3yf"; // åŸå§‹txå­—ç¬¦ä¸²

// æ‰§è¡ŒéªŒè¯
console.log('ğŸ” å¼€å§‹éªŒè¯æŠ½å¥–ç»“æœ...');
console.log('ğŸ“‹ å‚ä¸ç”¨æˆ·:', users.length, 'äºº');
console.log('âŒ æ’é™¤ç”¨æˆ·:', excludeUsers.length, 'äºº');
console.log('ğŸ¯ æŠ½å–äººæ•°:', drawCount, 'äºº');
console.log('ğŸŒ± ç§å­å€¼:', seed);

const winners = verifyLotteryResult(users, excludeUsers, drawCount, seed);
console.log('ğŸ‰ éªŒè¯ç»“æœ:', winners);
console.log('ğŸ† ä¸­å¥–ç”¨æˆ·å:', winners.map(w => w.username));
console.log('âœ… éªŒè¯å®Œæˆï¼');
```

**éªŒè¯è¯´æ˜**:
1. ä½¿ç”¨ç›¸åŒçš„ç§å­å€¼ï¼ˆ5kcnqrmP4ShoT4ehFy1RV4roRMET3zbqRnoykaqxWCDYzJAKoQSeS8e2JMBorGdhWmTVQ8pvmu2kWXeUrKmTs3yfï¼‰
2. åº”ç”¨ä¸ç³»ç»Ÿå®Œå…¨ç›¸åŒçš„æ´—ç‰Œç®—æ³•
3. ä½¿ç”¨ç›¸åŒçš„éšæœºæ•°ç”Ÿæˆå™¨é…ç½®ï¼ˆä¹˜æ•°: 9301, å¢é‡: 49297, æ¨¡æ•°: 233280ï¼‰
4. æ’é™¤ç›¸åŒçš„ç”¨æˆ·åˆ—è¡¨
5. æŠ½å–ç›¸åŒæ•°é‡çš„ä¸­å¥–è€…
6. ç»“æœåº”è¯¥ä¸ç³»ç»Ÿå®Œå…¨ä¸€è‡´

**åœ¨çº¿éªŒè¯**: æ‚¨å¯ä»¥å°†ä¸Šè¿°ä»£ç å¤åˆ¶åˆ°æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·æ§åˆ¶å°ä¸­æ‰§è¡Œï¼ŒéªŒè¯ç»“æœæ˜¯å¦ä¸è®°å½•ä¸€è‡´ã€‚
